(function(){"use strict";var t={154:function(t,e,n){var r=n(963),s=n(252);const o={class:"app"};function a(t,e,n,r,a,c){const i=(0,s.up)("my-select");return(0,s.wg)(),(0,s.iD)("div",o,[(0,s.Wm)(i)])}var c=n(577);const i=t=>((0,s.dD)("data-v-34938564"),t=t(),(0,s.Cn)(),t),u={class:"spa-conteiner"},l=i((()=>(0,s._)("div",{class:"spa-conteiner__title"},[(0,s._)("h1",null,"Currency Converter")],-1))),d={class:"spa-conteiner__inputs"},f={class:"entry-field"},h=i((()=>(0,s._)("h4",null,"Amount",-1))),p={class:"entry-field__name"},v={class:"currency-fields"},m={class:"select-wrapper"},_=i((()=>(0,s._)("h4",null,"Tos",-1))),y=["value"],g={class:"select-wrapper"},w=i((()=>(0,s._)("h4",null,"From",-1))),b=["value"],C={class:"add-convert"};function U(t,e,n,o,a,i){const U=(0,s.up)("current-exchange"),D=(0,s.up)("my-buttons");return(0,s.wg)(),(0,s.iD)("div",{class:"spa-list",onSubmit:e[3]||(e[3]=(0,r.iM)((()=>{}),["prevent"]))},[(0,s._)("div",u,[l,(0,s._)("div",d,[(0,s._)("div",f,[(0,s._)("div",null,[h,(0,s.wy)((0,s._)("input",{class:"input",type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>a.amount=t)},null,512),[[r.nr,a.amount,void 0,{number:!0}]])]),(0,s._)("div",{class:(0,c.C_)(a.isPostsLoading?"entry-field__title":"entry-field__no-active")},[(0,s._)("p",p,(0,c.zw)(""!==a.result?a.description:""),1),(0,s._)("span",null,(0,c.zw)(a.amount)+" "+(0,c.zw)(a.fromCurrency)+" = "+(0,c.zw)(a.result.toFixed(4))+" "+(0,c.zw)(a.toCurrency),1)],2)]),(0,s._)("div",v,[(0,s._)("div",m,[_,(0,s.wy)((0,s._)("select",{class:"select","onUpdate:modelValue":e[1]||(e[1]=t=>a.toCurrency=t)},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.currencies,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.code,key:t},(0,c.zw)(t.code)+" - "+(0,c.zw)(t.description),9,y)))),128))],512),[[r.bM,a.toCurrency]])]),(0,s._)("div",g,[w,(0,s.wy)((0,s._)("select",{class:"select","onUpdate:modelValue":e[2]||(e[2]=t=>a.fromCurrency=t)},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.currencies,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.code,key:t},(0,c.zw)(t.code)+" - "+(0,c.zw)(t.description),9,b)))),128))],512),[[r.bM,a.fromCurrency]])])])]),(0,s._)("div",C,[(0,s.Wm)(U,{isPostsLoading:a.isPostsLoading,amount:a.amount,resultEUR:a.resultEUR,resultUSD:a.resultUSD},null,8,["isPostsLoading","amount","resultEUR","resultUSD"]),(0,s._)("div",{class:(0,c.C_)(a.currentExchange?"btn-addFetch":"btn-addFetch__active")},[(0,s.Wm)(D,{onClick:i.fetchConverted},{default:(0,s.w5)((()=>[(0,s.Uk)("Converted")])),_:1},8,["onClick"])],2)])])],32)}var D=n(945);const x={class:"btn"};function E(t,e,n,r,o,a){return(0,s.wg)(),(0,s.iD)("button",x,[(0,s.WI)(t.$slots,"default",{},void 0,!0)])}var R={name:"my-buttons"},S=n(744);const z=(0,S.Z)(R,[["render",E],["__scopeId","data-v-244631bb"]]);var L=z;const O=t=>((0,s.dD)("data-v-4b6bc0db"),t=t(),(0,s.Cn)(),t),k={class:"current-exchange__item"},P=O((()=>(0,s._)("h3",null,"Курсы валют национальных банков!",-1))),Z={class:"current-currencies"};function B(t,e,n,r,o,a){return(0,s.wg)(),(0,s.iD)("div",{class:(0,c.C_)(n.isPostsLoading?"current-exchange__active":"current-exchange")},[(0,s._)("div",k,[P,(0,s._)("div",Z,[(0,s._)("span",null,(0,c.zw)(n.amount)+" USD = "+(0,c.zw)(n.resultUSD.toFixed(4))+" RUB",1),(0,s._)("span",null,(0,c.zw)(n.amount)+" EUR = "+(0,c.zw)(n.resultEUR.toFixed(4))+" RUB",1)])])],2)}var F={name:"current-exchange",props:{amount:Number,isPostsLoading:Boolean,resultEUR:Number,resultUSD:Number}};const j=(0,S.Z)(F,[["render",B],["__scopeId","data-v-4b6bc0db"]]);var M=j,V={components:{MyButtons:L,CurrentExchange:M},data(){return{fromEUR:"EUR",fromUSD:"USD",resultEUR:0,resultUSD:0,currencies:[],currentExchange:!1,isPostsLoading:!1,isSelectLoading:!0,amount:1,toCurrency:"RUB",fromCurrency:"USD",result:0,description:""}},methods:{async fetchConverted(){const{formValid:t,fromCurrency:e,amount:n,toCurrency:r}=this;if(t)try{const t=await D.Z.get(`https://api.exchangerate.host/latest?base=${e}`),s=await t.data.rates;this.result=n*s[r]}catch(s){alert("Converted Error",s)}finally{this.description=this.currencies[this.toCurrency].description,this.isPostsLoading=!0,this.currentExchange=!0,this.fetchCurrencyDefault()}},async fetchCurrencyList(){try{const t=await D.Z.get("https://api.exchangerate.host/symbols");this.currencies=await t.data.symbols}catch(t){alert("List Error",t)}},async fetchCurrencyDefault(){const t=await D.Z.get(`https://api.exchangerate.host/latest?base=${this.fromEUR}`),e=await D.Z.get(`https://api.exchangerate.host/latest?base=${this.fromUSD}`),n=t.data.rates,r=e.data.rates;this.resultEUR=this.amount*n.RUB,this.resultUSD=this.amount*r.RUB}},mounted(){this.fetchCurrencyList()},computed:{formValid(){const{amount:t,toCurrency:e,fromCurrency:n}=this;return+t>0&&e&&n}}};const I=(0,S.Z)(V,[["render",U],["__scopeId","data-v-34938564"]]);var W=I,$={components:{MySelect:W}};const N=(0,S.Z)($,[["render",a]]);var T=N;(0,r.ri)(T).mount("#app")}},e={};function n(r){var s=e[r];if(void 0!==s)return s.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}n.m=t,function(){var t=[];n.O=function(e,r,s,o){if(!r){var a=1/0;for(l=0;l<t.length;l++){r=t[l][0],s=t[l][1],o=t[l][2];for(var c=!0,i=0;i<r.length;i++)(!1&o||a>=o)&&Object.keys(n.O).every((function(t){return n.O[t](r[i])}))?r.splice(i--,1):(c=!1,o<a&&(a=o));if(c){t.splice(l--,1);var u=s();void 0!==u&&(e=u)}}return e}o=o||0;for(var l=t.length;l>0&&t[l-1][2]>o;l--)t[l]=t[l-1];t[l]=[r,s,o]}}(),function(){n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,r){var s,o,a=r[0],c=r[1],i=r[2],u=0;if(a.some((function(e){return 0!==t[e]}))){for(s in c)n.o(c,s)&&(n.m[s]=c[s]);if(i)var l=i(n)}for(e&&e(r);u<a.length;u++)o=a[u],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(l)},r=self["webpackChunkspa_vue"]=self["webpackChunkspa_vue"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(154)}));r=n.O(r)})();
//# sourceMappingURL=app.a7f4c052.js.map